{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": {
        "text": "Average Annual Max Temperature Around Australia",
        "fontSize": 18
    },
    "config": {
        "font": "Roboto",
        "background": "#f4f4f4",
        "view": {"stroke": "transparent"}
    },
    "width": "container",
    "height": "container",
    "params": [
        {
            "name": "Year_selection",
            "value": 2019,
            "bind": {
                "input": "range",
                "min": 1975,
                "max": 2019,
                "step": 1,
                "name": "Year: "
            }
        },
        {
            "name": "min_temperature",
            "value": 5,
            "bind": {
                "input": "range",
                "min": 5,
                "max": 40,
                "step": 1,
                "name": "Minimum Temperature (C): "
            }
        }
    ],
        "layer": [
            {
                "projection": {"type": "mercator"},
                "data": {
                    "url": "ne_50m_admin_1_states_provinces.json",
                "format": {"type": "topojson", "feature": "ne_50m_admin_1_states_provinces"}
                },
                "mark": {"type": "geoshape", "fill": "", "stroke": "gray"}
            },
            {
                "data": {
                    "url": "https://raw.githubusercontent.com/kluc0006/FIT3179/refs/heads/main/AustralianAverageMaxTemp.csv"
                },
                "mark": {"type": "circle"},
                "encoding": {
                    "longitude": {"field": "long", "type": "quantitative"},
                    "latitude": {"field": "lat", "type": "quantitative"},
                "color": {
                    "field": "Temp",
                    "type": "quantitative",
                    "title": "Temperature (Celsius)",
                    "scale": {
                        "type": "threshold",
                        "domain": [10, 15, 20, 25, 30, 35],
                        "range": ["#5350ff", "#b096f4", "#cab9eb",
                        "#e9d4ce", "#f3c3b5", "#fc9e87", "#ff5d54"]}},
                "size": {"value": 250},
                "opacity": {"value": 1},
                "tooltip": [
                    {"field": "Temp", "type": "quantitative", "format": ".2f", "title": "Temperatue (C)"}
                ]
                },
 
                "transform": [
                    {"filter": "datum.Year == Year_selection"},
                    {"filter": "datum.Temp >= min_temperature"}
                ]
            },
            {
                "mark": {
                    "type": "text",
                    "align": "right",
                    "dy": -10
                },
                "projection": {"type": "mercator"},
                "encoding": {
                    "text": {"field": "Temp"},
                    "latitude": {"field": "lat", "type": "quantitative"},
                    "longitude": {"field": "long", "type": "quantitative"}}

            }
        ]
}